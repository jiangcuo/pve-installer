proxmox-installer (8.2.5) bookworm; urgency=medium

  * fetch answer: really try lower-case variant of label too

 -- Proxmox Support Team <support@proxmox.com>  Wed, 24 Apr 2024 13:11:42 +0200

proxmox-installer (8.2.4) bookworm; urgency=medium

  * auto-installer: shorten partition label to "PROXMOX-AIS" so that it
    fits in the 11 characters limit for labels when using the FAT file-
    system

  * assistant: fix newline before ':' in help usage text

  * assistant: updated remaining error messages to reworked CLI

  * answer: perform basic input validation for keyboard

 -- Proxmox Support Team <support@proxmox.com>  Wed, 24 Apr 2024 10:55:05 +0200

proxmox-installer (8.2.3) bookworm; urgency=medium

  * also skip installing the proxmox-grub meta package if not booted in EFI
    mode

 -- Proxmox Support Team <support@proxmox.com>  Wed, 24 Apr 2024 00:16:36 +0200

proxmox-installer (8.2.2) bookworm; urgency=medium

  * auto-installer:
    - rename `global.password` option to `global.root_password`
    - move `system.root_ssh_keys` option to `global` section
    - support UTC as timezone
    - drop fetch-from auto mode to avoid complexity and querying (potentially
      untrusted) networks by default
    - rework the default filename suffix that gets added to the default
      output filename of the prepared iso
    - move ssh keys setup to low-level installer, avoiding command injection
    - rework command line options:
      - rename 'install-mode' option to 'fetch-from'
      - rename 'included' fetch-from variant to 'iso'
      - rename 'source' to 'input' and 'target' to 'output'
      - drop all short options for now
      - update help text
    - report every progress update and include text

  * low level installer:
    - drop printing about extracting deb packages to stderr
    - avoid undef warning in progress log when using ZFS
    - only log about creating SWAP if there's any configured

  * fetch answer tool: allow one to override the fetch-from mode through CLI
    arguments, which can be useful for debugging or to try the automatic
    installer without preparing the ISO first

  * installer init: start debug shell if auto-installation is enabled without
    config

  * assistant: error out on if there's a static network config set together
    with from-dhcp as source

  * tui: update screen during installation only when necessary

  * less strict regex for matching udev env variables

  * skip new proxmox-secure-boot-support package if secureboot is not enabled

 -- Proxmox Support Team <support@proxmox.com>  Tue, 23 Apr 2024 21:30:02 +0200

proxmox-installer (8.2.1) bookworm; urgency=medium

  * low-level install: add option to automatically rename LVM volumes

  * auto-installer: always set new `lvm_auto_rename` option to avoid prompt
    that breaks installation flow

  * assistant: prepare iso: avoid an useless intermediate copy of the answer
    file

  * d/control: recommend xorriso as dependency for the assistant package

 -- Proxmox Support Team <support@proxmox.com>  Mon, 22 Apr 2024 17:50:41 +0200

proxmox-installer (8.2.0) bookworm; urgency=medium

  * unconfigured: move terminal size setting before starting debug shell

  * html: pbs: fix missing <br> in template after feature list

  * run env: use default error message if country detection failed with empty
    string

  * add tech-preview for unattended automatic installation through a premade,
    but flexible answer file

  * add new proxmox-auto-install-assistant to provide a tool to help with
    preparing an ISO and answer files for automated installation

 -- Proxmox Support Team <support@proxmox.com>  Thu, 18 Apr 2024 22:37:04 +0200

proxmox-installer (8.1.12) bookworm; urgency=medium

  * installation: handle if the clamav-clamonacc.service is already disabled

  * gtk: FQDN parsing: fix fallback from error to generic message

  * installation: ZFS: fix setting compression explicitly to 'off'

  * tui: install_progress: write low-level non-JSON messages to separate file

 -- Proxmox Support Team <support@proxmox.com>  Wed, 28 Feb 2024 16:07:10 +0100

proxmox-installer (8.1.10) bookworm; urgency=medium

  * run command: wait for process exit with sub-second granularity to avoid
    artificially delay.

 -- Proxmox Support Team <support@proxmox.com>  Mon, 26 Feb 2024 20:51:03 +0100

proxmox-installer (8.1.9) bookworm; urgency=medium

  * run command: avoid using the true value 1 as a special value for parser
    closure to avoid false-positive detection of CMD_FINISHED flag

 -- Proxmox Support Team <support@proxmox.com>  Mon, 26 Feb 2024 15:11:45 +0100

proxmox-installer (8.1.8) bookworm; urgency=medium

  * ZFS : remove deprecated "fletcher2" algorithm and the dangerous "off"
    checksum  options

  * GTK based UI: replace the use of nested boxes for layouting with grids
    when possible to ensure correct margins and alignment of widgets.

  * fix #4872: run env: set timeout for country detection

  * common: fqdn: do not allow overlong FQDNs, limit to 63 characters per part
    and 253 charactrers total, as per Debian spec

  * common: fqdn: implement case-insensitive comparison as per RFC 952

  * fix #5230: properly escape FQDN regex to avoid that problematic values can
    make it into the host configuration files by mistake

  * switch over to JSON-based protocol for installer to UI communication


 -- Proxmox Support Team <support@proxmox.com>  Sat, 24 Feb 2024 16:30:08 +0100

proxmox-installer (8.1.7) bookworm; urgency=medium

  *  source interfaces.d snippets by default

 -- Proxmox Support Team <support@proxmox.com>  Thu, 23 Nov 2023 11:11:20 +0100

proxmox-installer (8.1.6) bookworm; urgency=medium

  * grub: install all efi binaries in fallback/default dir

 -- Proxmox Support Team <support@proxmox.com>  Wed, 22 Nov 2023 13:30:06 +0100

proxmox-installer (8.1.5) bookworm; urgency=medium

  * various fixes for the TUI installer:
   - do not center EULA text
   - preserve auto-reboot checkbox state when switching views
   - common: enforce even number of disks for ZFS RAID-10

  * serial installer: add serial config for grub to target system

  * zfs: create dataset var-lib-vz for /var/lib/vz to avoid to many
    intermediate datasets

  * ZFS: detect and handle secure boot

 -- Proxmox Support Team <support@proxmox.com>  Tue, 21 Nov 2023 14:22:23 +0100

proxmox-installer (8.1.4) bookworm; urgency=medium

  * tui: fix changing between non-LVM and LVM filesystem in bootdisk chooser

  * ui: stdio: replace newlines with whitespaces in prompt messages

  * tui: install progress: use ok/cancel as button text for installer prompt

  * tui: bootdisk zfs config: add a maximum value to the `copies` option

  * tui: fix interface sort order

 -- Proxmox Support Team <support@proxmox.com>  Fri, 17 Nov 2023 19:35:19 +0100

proxmox-installer (8.1.3) bookworm; urgency=medium

  * run env: do not store empty hostname when trying to detect from DHCP

  * gtk installer: show the unit of inputs for the disk related options

 -- Proxmox Support Team <support@proxmox.com>  Fri, 17 Nov 2023 07:39:23 +0100

proxmox-installer (8.1.2) bookworm; urgency=medium

  * x display server: disable screen saver via blank time

  * zfs: create /var/lib/vz only for PVE

 -- Proxmox Support Team <support@proxmox.com>  Thu, 16 Nov 2023 19:21:09 +0100

proxmox-installer (8.1.1) bookworm; urgency=medium

  * pass optional console parameter from installer to target

  * serial install: fix console parameter parsing

  * fix #4747: pass kernel cmdline parameters to target system

  * fix #1410: zfs: create /var/lib/vz as separate dataset

  * zfs: set acltype=posix for root-dataset to ensure that daemons like
    journald can provide fine-grained access to non-root users.

 -- Proxmox Support Team <support@proxmox.com>  Thu, 16 Nov 2023 08:33:32 +0100

proxmox-installer (8.1.0) bookworm; urgency=medium

  * various improvements for the TUI installer:
    - fix #4856: bootdisk: use correct defaults in advanced dialog.
    - fix incorrect scrolling of form view contents.
    - don't abort install if minimum memory requirement is not met, allow
      the user to override this just like in the GTK based installer.
    - add "Deselect All" button to ZFS and Btrfs multiple disk selection.
    - improve FQDN validation.
    - improve bootdisk dialog error handling.
    - add RAID setup checks for ZFS/Btrfs.
    - password: include minimum password length in error message.
    - network: select matching NIC for IP configuration.
    - setup: fix disk size for 4Kn block devices.
    - setup: handle missing disk block size gracefully.
    - update count down of auto-reboot timeout every second like the GTK based
      installer does.
    - fix various typos.

  * disk partitioning: fix checking the answer for the to-small-disk prompt.

  * raid setup: btrfs: do not allow legacy BIOS boot on 4Kn disks, like it's
    already checked for LVM and ZFS.

  * fix #4869: Add marker to the network interfaces that are in an UP-state in
    the management interface selection.

  * re-use hostname from the runtime environment, if available. For now, this
    info comes from the DHCP lease only.

  * fix #4829: install: add new ZFS `arc_max` setup option and set the default
    for Proxmox VE installations via a new heuristic, targetting 10 % of
    memory, not 50 % and clamp this to minimum 64 MiB and maxmimum 16 GiB.
    This ensures that most memory is available for virtual guests, the primary
    use case of Proxmox VE.

  * install correct grub metapackage for the current boot-mode.

 -- Proxmox Support Team <support@proxmox.com>  Sat, 11 Nov 2023 14:31:49 +0100

proxmox-installer (8.0.14) bookworm; urgency=medium

  * pmg: disable clamav-clamonacc.service by default on installation

 -- Proxmox Support Team <support@proxmox.com>  Wed, 28 Jun 2023 18:39:41 +0200

proxmox-installer (8.0.13) bookworm; urgency=medium

  * tui: only show warning for missing hyper-visor CPU flags for PVE

  * tui: block & notify if same disk gets selected twice for Btrfs or ZFS

  * tui: persist disk selection for ZFS and Btrfs

 -- Proxmox Support Team <support@proxmox.com>  Tue, 27 Jun 2023 16:19:33 +0200

proxmox-installer (8.0.11) bookworm; urgency=medium

  * tui: hide max-vz and max-root inputs if product isn't PVE to be consistent
    with the GTK based installer.

 -- Proxmox Support Team <support@proxmox.com>  Mon, 26 Jun 2023 21:39:45 +0200

proxmox-installer (8.0.10) bookworm; urgency=medium

  * tui: use product for default hostname

  * tui: boot disks: filter out Btrfs if setup-info disallows it, like for
    Proxmox Mail Gateway or Proxmox Backup Server currently.

 -- Proxmox Support Team <support@proxmox.com>  Mon, 26 Jun 2023 19:09:07 +0200

proxmox-installer (8.0.9) bookworm; urgency=medium

  * tui: switch to `f64` for disk sizes for full range of values

  * tui: wrap multi-disk selection in scrollable view

  * tui: disable automatic text wrapping for form labels

  * tui: add some info to unknown UI messages

  * tui: do not auto reboot on failures

  * gtk: raid disk selector: separate UI state from config state to avoid
    messing with the order of selection

  * align metadata size and rootdisk size to 4 MiB

  * fix space calculation for small disks for pve product

 -- Proxmox Support Team <support@proxmox.com>  Thu, 22 Jun 2023 16:48:18 +0200

proxmox-installer (8.0.8) bookworm; urgency=medium

  * Revert "critic: lazily read directories via <> glob"

 -- Proxmox Support Team <support@proxmox.com>  Thu, 22 Jun 2023 10:48:12 +0200

proxmox-installer (8.0.7) bookworm; urgency=medium

  * fix checking the response of the prompt, which is now returning a boolean.
    This fixes an issue where the user was prompted for small root disk space
    or if renaming the PVE VG is ok, but the installer always aborted.

 -- Proxmox Support Team <support@proxmox.com>  Thu, 22 Jun 2023 07:38:24 +0200

proxmox-installer (8.0.6) bookworm; urgency=medium

  * tui: remove underline-effect from advanced disk setup titles

  * tui: clamp max LVM disk size to size of selected disk

  * tui: fix ability to type commas

  * tui: do not fail completely on invalid domain names

  * tui: always use mail@example.invalid as default email address

  * run env: re-used cached version to speed up GUI installer start

  * log: record when and that the log got initialized and add some more
    logging, especially at start up

  * tui: improve ipv6 handling

  * tui: focus next button by default

 -- Proxmox Support Team <support@proxmox.com>  Wed, 21 Jun 2023 18:42:27 +0200

proxmox-installer (8.0.5) bookworm; urgency=medium

  * various fixes for the TUI:
    - make HVM extension not being present a non-fatal warning
    - do not fail completely on invalid domain names
    -  make disk swap-, max-root-, max-data- and min-lvm-free-size optional
      falling back to the proxinstall automatic smart defaults in that case.
    - make auto-deteced network routes optional
    - skip serializing empty fields for install config
    - set detected keyboard layout at installer launch
    - only focus summary table if it can be scrolled
    - refresh summary view if it is switched back to
    - make reboot-after-install checkbox default to enabled
    - redirect TUI stderr output to tty2
    - use non-slanted logo
    - implement auto-reboot after installation

  * config: fix missing include of Log module and avoid warning if no country
    was detected

  * run env: make addresses optional, include all interfaces

  * fix #4643: show a confirmation dialog when clicking abort

 -- Proxmox Support Team <support@proxmox.com>  Wed, 21 Jun 2023 13:22:38 +0200

proxmox-installer (8.0.4) bookworm; urgency=medium

  * re-add Encode module for decoding EULA in GTK installer

 -- Proxmox Support Team <support@proxmox.com>  Tue, 20 Jun 2023 22:02:57 +0200

proxmox-installer (8.0.3) bookworm; urgency=medium

  * switch to native versioning

  * Add Terminal User Interface (TUI) based installer written in Rust, using
    the Cursive toolkit.

  * A variety of fixes and refactoring to prepare for more flexible ways of
    triggering an installation

 -- Proxmox Support Team <support@proxmox.com>  Tue, 20 Jun 2023 21:37:09 +0200

proxmox-installer (8.0-2) bookworm; urgency=medium

  * fix call to logical_blocksize

 -- Proxmox Support Team <support@proxmox.com>  Fri, 09 Jun 2023 11:16:18 +0200

proxmox-installer (8.0-1) bookworm; urgency=medium

  * fix typo in error message

  * checktime: output expected and wrong times for better UX

  * refactor and split up installer code in modules, in preparation of more
    installer modi/UIs

  * call Gtk3::init manually, not on perl module load

  * call setupcon when starting-up final installer environment, applying the
    UTF-8 charset.

 -- Proxmox Support Team <support@proxmox.com>  Fri, 09 Jun 2023 09:39:09 +0200

proxmox-installer (7.4-2) bullseye; urgency=medium

  * d/control: depend on renamed and split-out proxmox-kernel-helper

 -- Proxmox Support Team <support@proxmox.com>  Mon, 20 Mar 2023 21:15:56 +0100

proxmox-installer (7.4-1) bullseye; urgency=medium

  * zfs: fix wrong command reference in error message

  * parition boot disk: use 1 GiB for ESP if root disk has 100+ GB space

  * fix #4430: allow users to select the UTC timezone

 -- Proxmox Support Team <support@proxmox.com>  Thu, 16 Mar 2023 12:40:57 +0100

proxmox-installer (7.3-1) bullseye; urgency=medium

  * lvm create: improve rounding of target root LV size by aligning it down to
    the 4MB boundary to ensure that LVM doesn't try to over allocates by one
    extent.

  * align computed swap size down to 4 MB to avoid oddly specific sizes and
    issues with LVM rounding PEs up on creation

  * lvm create: leave 4 MB space unallocated space for small disks (<= 32GB)
    too

 -- Proxmox Support Team <support@proxmox.com>  Tue, 29 Nov 2022 07:24:09 +0100

proxmox-installer (7.2-3) bullseye; urgency=medium

  * create lvm: improve rounding/alignment

 -- Proxmox Support Team <support@proxmox.com>  Fri, 18 Nov 2022 16:51:40 +0100

proxmox-installer (7.2-1) bullseye; urgency=medium

  * zfs compression - fix wrongly added zle option

  * fix #4236: split disk space check into soft and hard limits, warn
    below 8 GB but only hard fail on 2 GB - which can never work

  * fine tune swap selection for low memory/space setups

  * lvm create: rework auto-space distribution and improve for low size
    setups. Avoid a per-default extra free space block if the disk has
    less than 32 GB of total space. Use the full rest size for root if
    it's below 12 GB, not much of a point in setting up a data thin LVM
    for guests then. Then also show a display message if no thin LVM is
    created to inform the admin.

 -- Proxmox Support Team <support@proxmox.com>  Fri, 18 Nov 2022 10:44:33 +0100

proxmox-installer (7.1-2) bullseye; urgency=medium

  * disks: raid: avoid restting hdsize when reopening options

  * drop trying to enable timesyncd, wrong since chrony switch & unnecessary
    anyway

  * remove /mnt/hostrun after install to avoid lingering directory

 -- Proxmox Support Team <support@proxmox.com>  Thu, 28 Apr 2022 08:08:47 +0200

proxmox-installer (7.1-1) bullseye; urgency=medium

  * init:
    + add missing newline for chorny log message
    + add hint that GUI should start and where to find potential errors
    + do not sync on actual reboot, was already done after installation
      finished

  * proxmox-boot-preparation: add newline to /etc/kernel/cmdline

  * display disk size with 2 decimal places

  * zfs create: default to relatime

  * fix #3905: allow lze/gzip/zstd compression for ZFS

  * zfs: allow RAID0 with different-sized disks

  * fix #3188: update hdsize spin-button on disk-selection change

  * fix #3587: make hdsize configurable for btrfs setups

 -- Proxmox Support Team <support@proxmox.com>  Wed, 20 Apr 2022 14:17:52 +0200

proxmox-installer (7.0-7) bullseye; urgency=medium

  * Revert "bridged network: set bridge HW-address to port one", to subtle to
    do as static configuration

  * avoid copying packages into ram, bind-mount into target chroot and extract
    directly

  * unconfigured: avoid doing the reset "sysrq" if possible, prefer a normal
    reboot system call.

 -- Proxmox Support Team <support@proxmox.com>  Wed, 14 Jul 2021 12:16:27 +0200

proxmox-installer (7.0-6) bullseye; urgency=medium

  * bridged network: set bridge HW-address (MAC) to the one of the physical
    port

  * unconfigured: ifupdown is not used anymore, cope with that

  * unconfigured: do not unmount /dev to early on shutdown

  * unconfigured: only log about swap if there's actually one we can deactivate

 -- Proxmox Support Team <support@proxmox.com>  Mon, 12 Jul 2021 13:21:09 +0200

proxmox-installer (7.0-4) bullseye; urgency=medium

  * clean disk: sort blockdevs by length to clean depth-first

  * lvcreate: pass --yes to ensure wipesignatures is answered with go-
    for-it

  * try to make LVM less noisy regarding leaked file-descriptors

  * network: sync bridge option names with pve-common

 -- Proxmox Support Team <support@proxmox.com>  Thu, 24 Jun 2021 11:04:45 +0200

proxmox-installer (7.0-3) bullseye; urgency=medium

  * pid1: shutdown: send a more friendly TERM signal first

  * Proxmox VE: enable BTRFS support on installation as technology preview

 -- Proxmox Support Team <support@proxmox.com>  Wed, 23 Jun 2021 23:03:22 +0200

proxmox-installer (7.0-2) bullseye; urgency=medium

  * lvm: always tell lvm to wipe the signatures

  * clean disk: pass all partitions separately to wipe2fs, as else it won't
    bother cleaning up child ones

  * disk preparation: make progress report for cleaning up disks slightly more
    granular

  * unconfigured: handle being the new PID 1

  * unconfigured: heuristically detect high-dpi and adapt debugshell font and
    GDK_SCALE for the wizard in that case

 -- Proxmox Support Team <support@proxmox.com>  Tue, 15 Jun 2021 15:07:04 +0200

proxmox-installer (7.0-1) bullseye; urgency=medium

  * unify installer packages into single binary-package

  * use wipefs to really clean the disks used for the root filesystem, as with
    wiping only the partions through sgdik, things like LVS refuse to operate
    if they find traces of existing LVs.

  * override grub default config via installer instead of separate grub
    package

  * re-build for Debian 11 Bullseye based releases

 -- Proxmox Support Team <support@proxmox.com>  Tue, 25 May 2021 19:54:34 +0200

pve-installer (6.4-2) pmg pve; urgency=medium

  * zfs: assume that all devices are boot devices as firmware is weird and
    sometimes allows booting only from certain devices, which we cannot know
    here, and potentially only the boot partition could be corrupted/broken/...
    in which case another dev in the raid 0 could allow successful booting

  * legacy BIOS: boot ZFS indirectly using proxmox-boot-tool and the vfat based
    ESP as the primary boot partition to avoid issues with the ZFS
    implementation of GRUB.

 -- Proxmox Support Team <support@proxmox.com>  Mon, 26 Apr 2021 18:53:55 +0200

pve-installer (6.4-1) pmg pve; urgency=medium

  * fix #2518: disk selector: add "deselect all" button if there are
    more than three disks

  * avoid triggering keyboard layout auto-selection heuristic if it was
    changed explicitly

  * partially fix #2804: set debug-console keymap on language selection

  * fix #3223: fix hardcoded port value in success page html

  * fix #3165: start chrony after DHCP client for an opportunistic time-sync

 -- Proxmox Support Team <support@proxmox.com>  Fri, 26 Mar 2021 19:47:08 +0100

pve-installer (6.3-2) pmg pve; urgency=medium

  * minor spelling/grammar fixes all over the place

  * do not configure VT keyboard layout during installation, may hang the
    installer

 -- Proxmox Support Team <support@proxmox.com>  Tue, 10 Nov 2020 15:03:14 +0100

pve-installer (6.3-1) pmg pve; urgency=medium

  * fix #2925: edit /etc/kernel/cmdline unconditionally

  * set console keymap on language selection

  * fix #3057: remove ext3 option from installer

  * pbs: actually write out email to user.cfg

  * network: replace dot notation netmask with CIDR notation as primary input

  * fix #3093: allow one to automatically reboot on installation success

 -- Proxmox Support Team <support@proxmox.com>  Sun, 08 Nov 2020 19:35:45 +0100

pve-installer (6.2-3) pmg pve; urgency=medium

  * fix #2804: add a root shell on tty3

  * pbs: update installation html texts

 -- Proxmox Support Team <support@proxmox.com>  Tue, 07 Jul 2020 15:37:04 +0200

pve-installer (6.2-2) pmg pve; urgency=medium

  * write out network configuration in CIDR notation

  * create default DS

 -- Proxmox Support Team <support@proxmox.com>  Mon, 25 May 2020 21:10:33 +0200

pve-installer (6.2-1) pmg pve; urgency=medium

  * unconfigured: don't trap "bad" debug-shell exits

 -- Proxmox Support Team <support@proxmox.com>  Sun, 10 May 2020 21:21:10 +0200

pve-installer (6.1-4) pmg pve; urgency=medium

  * unconfigured: allow pseudo terminals, mount devpts

  * start installer window always in full screen mode

  * improve spice integration

 -- Proxmox Support Team <support@proxmox.com>  Fri, 24 Apr 2020 19:40:23 +0200

pve-installer (6.1-3) pmg pve; urgency=medium

  * fix behavior if ZFS disks have no /dev/by-id path

  * restrict admin email to same format as the JSONSchema

 -- Proxmox Support Team <support@proxmox.com>  Fri, 06 Mar 2020 10:57:49 +0100

pve-installer (6.1-2) pmg pve; urgency=medium

  * add all ZFS vdevs with stable by-id device path

  * fix #1211: allow installation on 4k-native (4kn) disks booting with UEFI

 -- Proxmox Support Team <support@proxmox.com>  Wed, 27 Nov 2019 19:20:45 +0100

pve-installer (6.1-1) pmg pve; urgency=medium

  * raise postifx main.cf compatibility_level to 2

  * ensure /etc/aliases.db is generated

 -- Proxmox Support Team <support@proxmox.com>  Wed, 20 Nov 2019 10:35:42 +0100

pve-installer (6.0-9) pmg pve; urgency=medium

  * fix #2313: load country.dat file with utf8 encoding

 -- Proxmox Support Team <support@proxmox.com>  Sat, 17 Aug 2019 10:31:38 +0200

pve-installer (6.0-8) pmg pve; urgency=medium

  * success screen: show real final IP addr with port

  * handle bootloader installation errors gracefully

  * efiboot: remove redundant call to zz-pve-efiboot

 -- Proxmox Support Team <support@proxmox.com>  Thu, 25 Jul 2019 12:40:37 +0200

pve-installer (6.0-5) pmg pve; urgency=medium

  * hd_list: skip all devices with iso9660 as FS

  * mount efivarfs to ensure we can read bigger EFI NVRAM backed variables

  * fix #1603: create a new and unique machine-id

  * copy /etc/hostid from installer root to target

  * prompt user if a vgrename is OK for exisiting 'pve'/'pmg' VGs

  * use pve-efiboot-tool for systemd boot ESP preparation

 -- Proxmox Support Team <support@proxmox.com>  Thu, 11 Jul 2019 19:22:31 +0200

pve-installer (6.0-4) pmg pve; urgency=medium

  * update systemd-boot config after initializing esps

  * clear zpool labels on selected disks' partitions

  * use by-id diskpath for zpool create

  * warn if host memory is less than 1 GB

 -- Proxmox Support Team <support@proxmox.com>  Thu, 04 Jul 2019 18:10:06 +0200

pve-installer (6.0-3) pmg pve; urgency=medium

  * add support for ZFS on EFI

 -- Proxmox Support Team <support@proxmox.com>  Fri, 28 Jun 2019 14:03:21 +0200

pve-installer (6.0-2) pmg pve; urgency=medium

  * add note regarding issues with ZFS on HW raid controller

 -- Proxmox Support Team <support@proxmox.com>  Tue, 25 Jun 2019 10:27:54 +0200

pve-installer (6.0-1) pmg pve; urgency=medium

  * bump for Debian Buster

 -- Proxmox Support Team <support@proxmox.com>  Wed, 22 May 2019 10:02:08 +0200

pve-installer (5.0-26) unstable; urgency=medium

  * ipconf view: only (re)set fields if nic really changed

 -- Proxmox Support Team <support@proxmox.com>  Wed, 20 Mar 2019 14:39:35 +0100

pve-installer (5.0-25) unstable; urgency=medium

  * add support for Citrix Hypervisor blockdev

  * Fix #2009: Recreate hdsize_adj with new hdsize

  * implement previous button

  * implement summary/acknowledgement screen

 -- Proxmox Support Team <support@proxmox.com>  Thu, 14 Mar 2019 16:36:13 +0100

pve-installer (5.0-24) unstable; urgency=medium

  * change last button to 'Install'

  * Reset adjustment for spinbutton_hdsize

 -- Proxmox Support Team <support@proxmox.com>  Fri, 30 Nov 2018 16:09:14 +0100

pve-installer (5.0-23) unstable; urgency=medium

  * do not create a swap zvol

  * unify and adapt disk partitioning

  * fix #1527: Use 'iso-codes' package country naming

  * allow more than 26 SCSI disk devices.

  * fix various grammar and spelling errors

 -- Proxmox Support Team <support@proxmox.com>  Fri, 23 Nov 2018 09:49:44 +0100

pve-installer (5.0-22) unstable; urgency=medium

  * fix #1241: ensure at least 1G of thinpool metadata

  * handle swapsize=0 correctly

  * handle maxvz=0 correctly

  * handle minfree=0 correctly

  * handle local-only LVM setup

 -- Proxmox Support Team <support@proxmox.com>  Fri, 11 May 2018 13:17:42 +0200

pve-installer (5.0-21) unstable; urgency=medium

  * ipconf.htm: remove pve product name

 -- Proxmox Support Team <support@proxmox.com>  Mon, 22 Jan 2018 07:57:26 +0100

pve-installer (5.0-20) unstable; urgency=medium

  * proxinstall: only display option maxroot for product pve

 -- Proxmox Support Team <support@proxmox.com>  Fri, 22 Dec 2017 07:43:41 +0100

pve-installer (5.0-19) unstable; urgency=medium

  * allow all valid netmasks

  * html-pmg/extract1-license.htm: fix typo

 -- Proxmox Support Team <support@proxmox.com>  Thu, 14 Dec 2017 11:19:10 +0100

pve-installer (5.0-18) unstable; urgency=medium

  * proxinstall - only creat ezfs data pool for product pve

 -- Proxmox Support Team <support@proxmox.com>  Thu, 23 Nov 2017 09:53:18 +0100

pve-installer (5.0-17) unstable; urgency=medium

  * include svg files for installer banner

 -- Proxmox Support Team <support@proxmox.com>  Wed, 22 Nov 2017 13:12:25 +0100

pve-installer (5.0-16) unstable; urgency=medium

  * pmg: fix lvm volume sizes

 -- Proxmox Support Team <support@proxmox.com>  Wed, 22 Nov 2017 10:26:38 +0100

pve-installer (5.0-15) unstable; urgency=medium

  * dispaly info pages for 15 seconds

  * Revert "change clamav daily database name to daily.cld"

 -- Proxmox Support Team <support@proxmox.com>  Wed, 22 Nov 2017 09:29:16 +0100

pve-installer (5.0-14) unstable; urgency=medium

  * correctly set PermitRootLogin in sshd_config

 -- Proxmox Support Team <support@proxmox.com>  Tue, 21 Nov 2017 14:15:16 +0100

pve-installer (5.0-13) unstable; urgency=medium

  * change clamav daily database name to daily.cld

 -- Proxmox Support Team <support@proxmox.com>  Tue, 21 Nov 2017 12:31:13 +0100

pve-installer (5.0-12) unstable; urgency=medium

  * pmg: write admin email to /etc/pmg/pmg.conf

 -- Proxmox Support Team <support@proxmox.com>  Tue, 21 Nov 2017 10:26:59 +0100

pve-installer (5.0-11) unstable; urgency=medium

  * pmg: write user.conf to correct location

 -- Proxmox Support Team <support@proxmox.com>  Tue, 21 Nov 2017 09:56:40 +0100

pve-installer (5.0-10) unstable; urgency=medium

  * bump version for testing

  * implement proxmox mail gateway installation

 -- Proxmox Support Team <support@proxmox.com>  Tue, 21 Nov 2017 08:05:02 +0100

pve-installer (5.0-8) unstable; urgency=medium

  * add support for multiple products (pve, pmg)

 -- Proxmox Support Team <support@proxmox.com>  Mon, 20 Nov 2017 12:47:44 +0100

pve-installer (5.0-7) unstable; urgency=medium

  * kill dhclient before rebooting

  * ZFS: explicitly export rpool after installation

  * fix #1479: detect missing KVM support

 -- Proxmox Support Team <support@proxmox.com>  Thu, 19 Oct 2017 10:56:30 +0200

pve-installer (5.0-6) unstable; urgency=medium

  * fix console-setup

 -- Proxmox Support Team <support@proxmox.com>  Thu, 10 Aug 2017 13:58:22 +0200

pve-installer (5.0-5) unstable; urgency=medium

  * allow installing without active network devices

  * fix bug in handling of invalid GeoIP results

 -- Proxmox Support Team <support@proxmox.com>  Wed, 9 Aug 2017 09:41:36 +0200

pve-installer (5.0-4) unstable; urgency=medium

  * rework password and email text

 -- Proxmox Support Team <support@proxmox.com>  Fri, 23 Jun 2017 09:49:38 +0200

pve-installer (5.0-3) unstable; urgency=medium

  * let raid dialogue grow if > 4 disks

  * add initial check for NICs

  * ignore link-local addresses

  * clean disks prior to formatting

  * explicitly mount ESP as vfat

  * zero start of partitions after formatting disk

  * fix XFS mount options

 -- Proxmox Support Team <support@proxmox.com>  Fri, 5 May 2017 12:11:22 +0200

pve-installer (5.0-2) unstable; urgency=medium

  * always select a NIC, even if DHCP fails

 -- Proxmox Support Team <support@proxmox.com>  Tue, 14 Mar 2017 09:44:30 +0100

pve-installer (5.0-1) unstable; urgency=medium

  * rebuild for PVE 5.0

  * fix #1239: enhance swap on ZFS setup

  * use iproute2, support interface selection

  * get DHCP leases on all interfaces

  * only require grub-efi to succeed if booted using UEFI

 -- Proxmox Support Team <support@proxmox.com>  Mon, 13 Mar 2017 13:03:43 +0100

pve-installer (4.0-16) unstable; urgency=medium

  * actually use more than 8 disks if selected

 -- Proxmox Support Team <support@proxmox.com>  Thu, 15 Dec 2016 10:05:54 +0100

pve-installer (4.0-15) unstable; urgency=medium

  * use explicit partition starts

  * bump EFI partition size to 256M

  * compute_swapsize: add return statement

 -- Proxmox Support Team <support@proxmox.com>  Tue, 13 Dec 2016 09:12:20 +0100

pve-installer (4.0-14) unstable; urgency=medium

  * bump version for new RELEASE=4.4

 -- Proxmox Support Team <support@proxmox.com>  Fri, 09 Dec 2016 12:03:00 +0100

pve-installer (4.0-13) unstable; urgency=medium

  * add default invalid mail address

  * refactor disk setup

  * add advanced ZFS options

  * fix #1190: allow ZFS mirrors with slightly different sizes

 -- Proxmox Support Team <support@proxmox.com>  Mon, 05 Dec 2016 10:48:19 +0100

pve-installer (4.0-12) unstable; urgency=medium

  * fix update_progress while extracting files

  * assume root file system is writable (overlayfs)

 -- Proxmox Support Team <support@proxmox.com>  Wed, 21 Sep 2016 13:12:33 +0200

pve-installer (4.0-11) unstable; urgency=medium

  * use unsquashfs instead of tar

 -- Proxmox Support Team <support@proxmox.com>  Wed, 31 Aug 2016 08:49:30 +0200

pve-installer (4.0-10) unstable; urgency=medium

  * Fix #1054: error on purely numeric hostnames

  * update layout, use new logo

 -- Proxmox Support Team <support@proxmox.com>  Tue, 09 Aug 2016 09:46:31 +0200

pve-installer (4.0-8) unstable; urgency=medium

  * restrict hdsize if requested

 -- Proxmox Support Team <support@proxmox.com>  Sun, 06 Mar 2016 09:04:44 +0100

pve-installer (4.0-7) unstable; urgency=medium

  * use lvmthin for data volume

  * create zfs subpool (rpool/data) as VM/CT storage

  * create better default storage configiguration

 -- Proxmox Support Team <support@proxmox.com>  Tue, 01 Mar 2016 07:16:16 +0100

pve-installer (4.0-6) unstable; urgency=medium

  * install EFI fallback boot file (OVMF does not boot without)

 -- Proxmox Support Team <support@proxmox.com>  Thu, 10 Dec 2015 10:39:46 +0100

pve-installer (4.0-5) unstable; urgency=medium

  * allow up to 8 zfs disks

  * enable systemd-timesyncd.service by default

 -- Proxmox Support Team <support@proxmox.com>  Fri, 20 Nov 2015 09:07:20 +0100

pve-installer (4.0-4) unstable; urgency=medium

  * add ipv6 support

 -- Proxmox Support Team <support@proxmox.com>  Tue, 06 Oct 2015 08:22:45 +0200

pve-installer (4.0-3) unstable; urgency=medium

  * zpool create: use cachefile=none

  * do not mention LVM snapshots

 -- Proxmox Support Team <support@proxmox.com>  Tue, 29 Sep 2015 12:17:57 +0200

pve-installer (4.0-2) unstable; urgency=medium

  * add xfs support

 -- Proxmox Support Team <support@proxmox.com>  Tue, 16 Jun 2015 11:57:06 +0200

pve-installer (4.0-1) unstable; urgency=medium

  * updates for debian jessie

 -- Proxmox Support Team <support@proxmox.com>  Tue, 16 Jun 2015 11:56:54 +0200

pve-installer (3.3-3) unstable; urgency=low

  * support ZFS

 -- Proxmox Support Team <support@proxmox.com>  Wed, 14 Jan 2015 09:39:28 +0100

pve-installer (3.3-2) unstable; urgency=low
  
  * support UEFI systems
  
  * add new 'Options' Dialog

  * do not install xorg.conf (not needed, and makes problems with EFI boot)

 -- Proxmox Support Team <support@proxmox.com>  Wed, 01 Oct 2014 09:16:03 +0200

pve-installer (3.3-1) unstable; urgency=low

  * update path for 3.3 release

 -- Proxmox Support Team <support@proxmox.com>  Mon, 08 Sep 2014 12:08:14 +0200

pve-installer (3.0-2) unstable; urgency=low

  * always use GUID partition tables

 -- Proxmox Support Team <support@proxmox.com>  Thu, 09 Jan 2014 16:00:25 +0100

pve-installer (3.0-1) unstable; urgency=low

  * updates for debian wheezy
  
  * use webkit instead of gthhtml2

 -- Proxmox Support Team <support@proxmox.com>  Wed, 20 Mar 2013 06:39:42 +0100

pve-installer (2.3-6) unstable; urgency=low

  * fix hdsize algorythm

 -- Proxmox Support Team <support@proxmox.com>  Fri, 01 Mar 2013 10:32:00 +0100

pve-installer (2.0-5) unstable; urgency=low

  * add 'hdsize' boot parameter to specify maximum size used.

 -- Proxmox Support Team <support@proxmox.com>  Fri, 30 Nov 2012 06:18:55 +0100

pve-installer (2.0-4) unstable; urgency=low

  * fix bug #226 && #227: new minfree and maxvz boot options

 -- Proxmox Support Team <support@proxmox.com>  Wed, 18 Jul 2012 05:51:47 +0200

pve-installer (2.0-3) unstable; urgency=low

  * increase free space on LVM up to 16GB

 -- Proxmox Support Team <support@proxmox.com>  Thu, 16 Feb 2012 11:59:55 +0100

pve-installer (2.0-2) unstable; urgency=low

  * support new kernel parameter 'ext4' switch (use ext4 instead of ext3)

  * use 'ext3' by default
  
 -- Proxmox Support Team <support@proxmox.com>  Thu, 04 Aug 2011 12:58:27 +0200

pve-installer (2.0-1) unstable; urgency=low

  * use ext4 fs

  * align LVM on 128k boundary 

  * use 'parted' to create partitions

  * support > 2TB disks (use GPT partition tables)

  * mount with barrier=0 during install (speedup)
	
  * write keyboard settings to /etc/pve-installer.cfg

  * adjust for pve2

  * avoid to run update-grub or update-initramfs during install

  * use --no-triggers for faster unpack

  * also mount sysfs to /target/sys

  * do not write /etc/default/grub - not really needed

  * we now use openbox instead of metacity

  * wait one second after partitioning (give kernel time to reread part
    table)

  * use update-initramfs -c (instead of -u)

  * do not write /etc/apache2/ports.conf (not really needed)

  * enable apache port redirect (a2ensite pve-redirect.conf)

 -- Proxmox Support Team <support@proxmox.com>  Mon, 15 Feb 2010 14:09:46 +0100

pve-installer (1.0-9) unstable; urgency=low

  * fix netmask bug

  * use 'udevadm info' to detect disks

 -- Proxmox Support Team <support@proxmox.com>  Fri, 22 Jan 2010 13:13:11 +0100

pve-installer (1.0-8) unstable; urgency=low

  * use UUID= for /boot in fstab

 -- Proxmox Support Team <support@proxmox.com>  Fri, 22 Jan 2010 13:11:58 +0100

pve-installer (1.0-7) unstable; urgency=low

  * unconfigured.sh: use -q flag for modprobe

  * proxinstall: use 'removable' flag on older kernels (instead
    of 'capability') to detect cdroms.

 -- Proxmox Support Team <support@proxmox.com>  Fri, 04 Dec 2009 18:03:59 +0100

pve-installer (1.0-6) unstable; urgency=low

  * pass --no-floppy to grub-install (some users reported delays)

 -- Proxmox Support Team <support@proxmox.com>  Fri, 19 Jun 2009 10:48:37 +0200

pve-installer (1.0-5) unstable; urgency=low

  * fixes for debian lenny

  * support dynamically allocated virtio blk devices

 -- Proxmox Support Team <support@proxmox.com>  Fri, 08 May 2009 16:53:42 +0200

pve-installer (1.0-4) unstable; urgency=low

  * proxinstall: better postfix configuration

 -- Proxmox Support Team <support@proxmox.com>  Mon, 12 Jan 2009 12:21:13 +0100

pve-installer (1.0-3) unstable; urgency=low

  * ause grub instead of lilo

 -- Proxmox Support Team <support@proxmox.com>  Wed, 20 Aug 2008 14:39:57 +0200

pve-installer (1.0-2) stable; urgency=low

  * proxinstall (extract_data): added maxroot and swapsize boot parameters,
    set bridge parameters (stp = on, fd = 0)

 -- Proxmox Support Team <support@proxmox.com>  Tue,  8 Jul 2008 06:54:03 +0200

pve-installer (1.0-1) stable; urgency=low

  * initial release

 -- Proxmox Support Team <support@proxmox.com>  Mon, 19 Nov 2007 15:48:05 +0100

